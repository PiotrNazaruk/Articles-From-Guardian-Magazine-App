{"version":3,"sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","list.js","pagination.js","search.js","main.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["List","list","document","querySelector","render","bind","createArticleMarkup","articles","innerHTML","forEach","article","div","createElement","markup","classList","add","appendChild","sectionName","webPublicationDate","slice","webTitle","webUrl","Pagination","select","init","changeNumber","changeCb","addEventListener","pageAmount","options","Array","from","x","index","pageNum","insertAdjacentHTML","removeEventListener","ev","target","value","Search","search","handleChange","cb","debounce","console","log","func","wait","timeout","args","context","clearTimeout","setTimeout","apply","App","pageNumber","searchValue","pagination","handlePageChange","handleSearchChange","fetchAndRenderData","fetch","then","response","ok","Error","status","json","data","results","updateSelect","pages","catch","error","app","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","i","length","module"],"mappings":"AAAA,ACAA,AKAA,ACAA,IDAI4E,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;APCA,ACAA;ADCA,ACAA,AKDA,ACCA,SDDSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;ANE9B,ACAA,AKDE,ACCA,MDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;APCF,ACAA,AKDIhB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;ANEJ,ACAA,AKDG,ACADa,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;APE/B,ACAA,AMDIH,AFLJ,IEKIA,IAAI,CAACI,MAAL;ANEJ,AKDE,ACAC,GAFD,MDEOlB,SAAP;ALEF,AKDC,ADJD;AJMA,AMFEe,EAAAA,OAAO,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ANGF,AKDA,ACDER,AFJF,EEIEA,IAAI,CAACS,EDCErB,QCDP,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ANGF,AKDE,ACDD;ANGD,AKDE,ADNF,MCMM;ALEN,AKDI,ACDJ,IAAIC,ALXStG,ACAAsB,ACAAkB,MEYH,IAAI0B,ACDA,GAAG,EDCP,EAAN,ACDJ;ANGA,AKDG,GAFD,CAEE,OAAOa,GAAP,EAAY;ALEhB,AKDI,ACFJ,QDEQC,CCFCuB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGxB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ALEJ,AMHE,ALZA,ACAA,ACAA,ICMI3B,EEMA+C,UAAJ,EAAgB,ALZF,EEAA,IDAA;AGcZ,ACDA,ALbY,ACAA,ACAA,QEcRtB,OAAJ,EAAa;AACX,ACDH,ALbC,ACAA,ACAA,SFAK/E,ACAAsB,ACAAkB,IEcI0C,AJdT,ECAA,ACAA,CFAYjF,ECAEA,ACAAA,KEcK,CAAC8E,AJdA,CAAC7E,CCAC,ACAA,CDACA,ACAAA,IEcI,CAAC,CAAD,CAAR,CAAjB,GJdU,CAAuB,CCArB,ACAA,CDAuB,ACAA,KFAzB,CAAZ,GEAc,CAAd,IDAc,CAAd;AGeC,AJbD,AGIF,AFLE,ACAA,SFCKC,ACDAoB,ACAAA,IDAL,ACAA,EFCA,CCDY,ACAA,CCKA,CHJE,GCDGA,ACAAA,EFCEpB,ECDP,ACAA,CDAUC,ACAAA,GFCR,CAAYA,ACDd,ACAA,CDAe,ACAA,GFCb,CAAiB,ACDnB,ACAA,CDAZ,ACAA,GFCc,CAAd;AIcD,ACDDiG,ALZE,AGGY,AFHZ,ACAA,EGYFA,OLZOhG,ACAAmB,ACAAiB,GGYG,GAAGW,MJZX,ACAA,GDAoB,ACAA,CGYC,CAAC,ELZtB,CCAyB5B,ACAAiB,EFAE,KAAKpC,EKYE,GJZd,ACAA,CDAkBD,ACAAA,IDAlB,ACAA,CDAuB,ACAA,IDAvB,ACAA,CDApB,ACAA,GFA2B,CAAyBA,IAAzB,CAA8B,IAA9B,CAA3B;AKaA,ALZD,AGGC,AFHD,ACAA,QGYKmG,CFTChD,IESI,GAAGtD,GFTZ,GAAkB,CAAlB,CESoB,CAACuG,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,ADVE,SCUK,ADVAhD,GCUP,QDVE,GAAmB,EAAnB;ACWH,ACFG,AFPA,SEOK,AFPAxD,IEOIyG,AFPT,CEOU,EFPE,CEOC,CAAb,EAAgBA,AFPA1G,CEOC,GAAGwG,KAAK,CAACG,AFPd,EAAZ,IEOA,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AFPF,SAAKhD,CEOC6B,MAAM,CAACJ,EFPb,GAAkB,IAAI7D,CEOhB,CAAkBkF,KAAK,CAACE,CAAD,CAAL,CAASX,IAA3B,MAAqCR,CFPzB,EAAlB,GEOiD,CAACT,YAAP,EAAzC,EAAgE;ADGtE,ACFQW,AFPJ,QEOIA,CDECN,ADTA1C,MAAL,GEOc,AFPA,CCSlB,ACFmB+D,CDECpB,EDTE5C,CCStB,CCFwB,CDEC,ACFAkE,AJblBhF,ACAAiB,CGaiB,CAAN,ALbTpC,CKaD,CHbG,MDAM,CEMC,CHNC,CGMf;ACUF,ACFK,ALdY,AGQf,AFPA,ACAA,SEeK,ADRAiB,CCQC,CHfDE,ACAAiB,ECOL,ADPA,EEeWyC,CDRC,ADPFzC,EEeL,AFfL,CDAA,CGegB0C,CDRC7D,CFPDE,GEOJ,CAAUrB,CCQjB,CAAmB,EDRZ,AFPZ,CEO2B,IAAf,CAAZ,8DCQK,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AFND,AFNA,ACAA,SCMKsD,EFNApC,ACAAkB,MDAL,ACAA,CDAYd,ACAAA,OCMZ,GAAwB,KAAKgC,CFN7B,ACAA,CDA6B,ACAA,OAA7B,CDAA,CCAsCf,CDAC,IEMf,CAAsBvC,AFNFoB,ECAE,CAAC,CCMvB,CAA2B,GDNCiB,CCM5B,CAAxB,EFNA,QCA8C,EAAoB,GAApB,CAA9C;AFFA,AGSA,AFND,ACAA,SCMMkB,EHTA3D,IAAL,CAAUO,SAAV,EGSA,CHTsB,EAAtB,AGS0B,KAAKoD,kBAAL,CAAwBvD,IAAxB,CAA6B,IAA7B,CAA1B;ACSJiF,ACFIgB,ALdA/F,AGQA,IEMA+F,ELdA/F,CIgBG,CAACuE,CDRCjB,KEMK,ALdF,CAACpD,EKcI,GDEjB,CCFI,CLdA,CIgBmBoE,AJhBF,IGQjB,GAA0B,GHRTnE,EGQcmD,KHRP,CIgB5B,CJhBgC,WGQF,CAAwBxD,IAAxB,CAA6B,IAA7B,CAA1B;ACSJiF,ACFG,ALdG,AGQH,GEHsB,EASpB,EDEE,ACXkB,CDWjBH,ACXN,ILLUxE,GAAG,GIgBf,AJhBkBT,GIgBGiF,KJhBK,CAACvE,IIgB3B,SJhBkB,CAAuB,KAAvB,CAAZ;AKeL,iCHbcyB,EDAgB,ECAZ;AFDb,ACCyB,ACC3BQ,MAAAA,MFFQhC,CEED,CAACiC,GAAR,CFFc,AEEFT,EAAE,CFFG,AEEFC,KFFM,CAAChC,AEEV,CAAUiC,KAAtB,aFFiB,CAAyB7B,OAAzB,CAAf;AKgBNkG,AHbI,MGaE,CAACtB,IHbE3C,EAAL,CGaJ,AHbYN,EAAE,CGaGkE,AHbFjE,MAAH,CAAUC,EGatB,GHbI;AFDE5B,ACDyB,ACG5B,QFFGA,ECDSiB,CDCN,CAACd,QCDqB,CDCzB,CAAcC,GAAd,CAAkB,SAAlB,EGOayC,YAAY,0CFRH,CAAG;ADEzB7C,AGOF,AFRA,QDCEA,GAAG,AGOA6C,AFRAjC,CDCCf,KCDN,CAAYA,GDCV,AGOF,GHPkBK,AGOA2C,GFRlB,GDCE,ACDsB,EAAxB,EEQA;AAEA,AFTA,UAAM3B,CESDgC,MFTQ,GAAG/B,KAAK,CAACC,GEStB,CFTgB,CAAWD,KAAK,CAACF,UAAD,CAAhB,EAA8B,UAACI,CAAD,EAAIC,KAAJ;ADE5C,AGQH,AFV+C,QDE5C,KAAI,CAAChC,CCFqDgC,GDE1D,CAAUjB,CCFqD,GAAG,CAAtB,MDE5C,CAAsBL,GAAtB;AACD,ACH6C,ODL9C,ACKgB,EAAuDF,OAAvD,CACd,UAAAyB,OAAO,EAAI;ADGd,ACFK,QAAA,KAAI,CAACX,MAAL,CAAYY,kBAAZ,CAA+B,WAA/B,6CAA6ED,OAA7E,gBAAyFA,OAAzF;AACD,OAHa,CAAhB,+BEYiBuB,aAAa;AAC9B,AFRD,ACDH,SAASb,ECSAa,MDTT,CAAkBV,ICSd,ADTJ,EAAwBC,CCSDS,GDTvB,EAA8B,MCS1B;AACA,ADTF,MAAIR,KCSGO,EDTP,QCSE,GAAkB,CAAlB,CAF8B,CAI9B,aHVkB9C,SAAS;AAC3B,AEAF,SAAO,YAAkB,iDFCaA,OAAO,CAACO,WAD5C,sEAE4CP,OAAO,CAACQ,kBAAR,CAA2BC,KAA3B,CAAiC,CAAjC,EAAoC,EAApC,CAF5C,yDAG+BT,OAAO,CAACU,QAHvC,mCAIaV,OAAO,CAACW,MAJrB;AAMD,AGIC,ADVuB,WCUlBwC,kBAAL,CFVQ,QCASX,IAAM;ACWxB,AFVC,ACDiBA,MAAAA,IAAM,CDClB3B,MAAL,CAAYa,mBAAZ,CAAgC,QAAhC,EAA0C,KAAKX,YAA/C;AACD,ACFwB;;AACvB,QAAM0B,OAAO,GAAG,IAAhB,mBCYmB;AAAA,ADXnBC,IAAAA,YAAY,CAACH,OAAD,CAAZ,QDEWZ,IAAI;AACf,ACFAY,IAAAA,ODEKvB,ACFE,GAAG2B,KDEV,CAAchB,EAAE,CAACC,CCFG,CAAC,IDEP,CAAUC,KAAxB;AESAuB,AFRD,ACHsB,MCWrBA,KAAK,EDXsBf,IAAI,CAACO,KAAL,CAAWH,OAAX,EAAoBD,IAApB,CAAN,0BCY0B,KAAKO,WAD/C,wCACwF,KAAKD,UAD7F,mDAAL,CAGGO,IAHH,CAGQ,UAAAC,QAAQ,EAAI;AAChB,ADfiB,KAAD,EAAkChB,IAAlC,CCeZgB,ADfR,QCegB,CAACC,EAAb,EAAiB;AACf,ADfP,GAJD,cCmBeD,QAAP;AACD,ADfR;;ACgBO,cAAME,KAAK,CAACF,QAAQ,CAACG,MAAV,CAAX;AACD,OARH,EASGJ,IATH,CASQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACI,IAAT,EAAJ;AAAA,OAThB,EAUGL,IAVH,CAUQ,UAAAM,IAAI,EAAI;AACZ,QAAA,KAAI,CAACpE,IAAL,CAAUG,MAAV,CAAiBiE,IAAI,CAACL,QAAL,CAAcM,OAA/B;;AACA,QAAA,KAAI,CAACZ,UAAL,CAAgBa,YAAhB,CAA6BF,IAAI,CAACL,QAAL,CAAcQ,KAA3C;AACD,OAbH,EAcGC,KAdH,CAcS,UAAAC,KAAK;AAAA,eAAI7B,OAAO,CAACC,GAAR,CAAY4B,KAAZ,CAAJ;AAAA,OAdd;AAeD;;;2BAEM;AACL,WAAKhB,UAAL,CAAgBlC,IAAhB,CAAqB,KAAKmC,gBAA1B;AACA,WAAKlB,MAAL,CAAYjB,IAAZ,CAAiB,KAAKoC,kBAAtB;AAEA,WAAKC,kBAAL;AACD;;;;;AAGH,IAAMc,GAAG,GAAG,IAAIpB,GAAJ,EAAZ;AACAoB,GAAG,CAACnD,IAAJ","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","export class List {\r\n  constructor() {\r\n    this.list = document.querySelector(\".news\");\r\n\r\n    this.render = this.render.bind(this);\r\n    this.createArticleMarkup = this.createArticleMarkup.bind(this);\r\n  }\r\n\r\n  render(articles) {\r\n    this.list.innerHTML = \"\";\r\n\r\n    articles.forEach(article => {\r\n      const div = document.createElement(\"div\");\r\n      const markup = this.createArticleMarkup(article);\r\n\r\n      div.classList.add(\"article\");\r\n      div.innerHTML = markup;\r\n\r\n      this.list.appendChild(div);\r\n    });\r\n  }\r\n\r\n  createArticleMarkup(article) {\r\n    return `<div>\r\n      <span class=\"article__category\">${article.sectionName}</span>\r\n      <span class=\"article__publication-date\">${article.webPublicationDate.slice(0, 10)}</span>\r\n      <h3 class=\"article__title\">${article.webTitle}</h3>\r\n      <a href='${article.webUrl}' target='_blank'<button class=\"article__button\">Read More</button></a>\r\n    </div>`;\r\n  }\r\n}\r\n","export class Pagination {\r\n  constructor() {\r\n    this.select = document.querySelector(\"#page-number\");\r\n    this.init = this.init.bind(this);\r\n\r\n    this.changeNumber = this.changeNumber.bind(this);\r\n  }\r\n\r\n  init(changeCb) {\r\n    this.changeCb = changeCb;\r\n\r\n    this.select.addEventListener(\"change\", this.changeNumber);\r\n  }\r\n\r\n  updateSelect(pageAmount = 5) {\r\n    this.select.innerHTML = '';\r\n    const options = Array.from(Array(pageAmount), (x, index) => index + 1).forEach(\r\n      pageNum => {\r\n        this.select.insertAdjacentHTML('beforeend', `<option class=\"option\" value=\"${pageNum}\">${pageNum}</option>`);\r\n      }\r\n    );\r\n  }\r\n\r\n  destroy() {\r\n    this.select.removeEventListener(\"change\", this.changeNumber);\r\n  }\r\n\r\n  changeNumber(ev) {\r\n    this.changeCb(ev.target.value);\r\n  }\r\n}\r\n","export class Search {\r\n  constructor() {\r\n    this.search = document.querySelector(\"#search\");\r\n    this.init = this.init.bind(this);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  init(cb) {\r\n    this.cb = cb;\r\n\r\n    this.search.addEventListener(\"keyup\", debounce(this.handleChange, 300));\r\n  }\r\n\r\n  handleChange(ev) {\r\n    console.log(ev.target.value)\r\n    this.cb(ev.target.value)\r\n  } \r\n}\r\n\r\nfunction debounce(func, wait) {\r\n  let timeout;\r\n\r\n  return function(...args) {\r\n    const context = this;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => func.apply(context, args), wait);\r\n  };\r\n}\r\n","import \"./styles/styles.styl\";\r\n\r\n\r\nimport { List } from \"./list\";\r\nimport { Pagination } from \"./pagination\";\r\nimport { Search } from \"./search\";\r\n\r\nclass App {\r\n  constructor() {\r\n    this.pageNumber = 1;\r\n    this.searchValue = \"\";\r\n\r\n    this.list = new List();\r\n    this.pagination = new Pagination();\r\n    this.search = new Search();\r\n\r\n    this.init = this.init.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n    this.handleSearchChange = this.handleSearchChange.bind(this);\r\n    this.fetchAndRenderData = this.fetchAndRenderData.bind(this);\r\n  }\r\n\r\n  handlePageChange(pageNumber) {\r\n    this.pageNumber = pageNumber;\r\n\r\n    this.fetchAndRenderData();\r\n  }\r\n\r\n  handleSearchChange(searchValue) {\r\n    this.searchValue = searchValue; \r\n    this.pageNumber = 1;\r\n\r\n    // this.pagination.updateSelect(this.pageNumber);\r\n    this.fetchAndRenderData();\r\n  }\r\n\r\n  fetchAndRenderData() {\r\n    fetch(\r\n      `https://content.guardianapis.com/search?q=${this.searchValue}&from-date=2019-10-28&page=${this.pageNumber}&api-key=775ad941-e943-4144-918e-bdc75053ed2b`\r\n    )\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response;\r\n        }\r\n        throw Error(response.status);\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.list.render(data.response.results);\r\n        this.pagination.updateSelect(data.response.pages);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  init() {\r\n    this.pagination.init(this.handlePageChange);\r\n    this.search.init(this.handleSearchChange);\r\n\r\n    this.fetchAndRenderData();\r\n  }\r\n}\r\n\r\nconst app = new App();\r\napp.init();\r\n\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}